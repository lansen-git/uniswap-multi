{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _defineProperty from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";var _EMPTY_LIST;import{ChainId,Token}from'@uniswap/sdk';import{useMemo}from'react';import{useSelector}from'react-redux';/**\n * Token instances created from token info.\n */export var WrappedTokenInfo=/*#__PURE__*/function(_Token){_inherits(WrappedTokenInfo,_Token);var _super=_createSuper(WrappedTokenInfo);function WrappedTokenInfo(tokenInfo,tags){var _this;_classCallCheck(this,WrappedTokenInfo);_this=_super.call(this,tokenInfo.chainId,tokenInfo.address,tokenInfo.decimals,tokenInfo.symbol,tokenInfo.name);_this.tokenInfo=void 0;_this.tags=void 0;_this.tokenInfo=tokenInfo;_this.tags=tags;return _this;}_createClass(WrappedTokenInfo,[{key:\"logoURI\",get:function get(){return this.tokenInfo.logoURI;}}]);return WrappedTokenInfo;}(Token);/**\n * An empty result, useful as a default.\n */var EMPTY_LIST=(_EMPTY_LIST={},_defineProperty(_EMPTY_LIST,ChainId.KOVAN,{}),_defineProperty(_EMPTY_LIST,ChainId.RINKEBY,{}),_defineProperty(_EMPTY_LIST,ChainId.ROPSTEN,{}),_defineProperty(_EMPTY_LIST,ChainId.GÖRLI,{}),_defineProperty(_EMPTY_LIST,ChainId.MAINNET,{}),_defineProperty(_EMPTY_LIST,ChainId.HECO,{}),_EMPTY_LIST);var listCache=typeof WeakMap!=='undefined'?new WeakMap():null;export function listToTokenMap(list){var result=listCache===null||listCache===void 0?void 0:listCache.get(list);if(result)return result;var map=list.tokens.reduce(function(tokenMap,tokenInfo){var _tokenInfo$tags$map$f,_tokenInfo$tags,_tokenInfo$tags$map;var tags=(_tokenInfo$tags$map$f=(_tokenInfo$tags=tokenInfo.tags)===null||_tokenInfo$tags===void 0?void 0:(_tokenInfo$tags$map=_tokenInfo$tags.map(function(tagId){var _list$tags;if(!((_list$tags=list.tags)===null||_list$tags===void 0?void 0:_list$tags[tagId]))return undefined;return _objectSpread(_objectSpread({},list.tags[tagId]),{},{id:tagId});}))===null||_tokenInfo$tags$map===void 0?void 0:_tokenInfo$tags$map.filter(function(x){return Boolean(x);}))!==null&&_tokenInfo$tags$map$f!==void 0?_tokenInfo$tags$map$f:[];var token=new WrappedTokenInfo(tokenInfo,tags);if(tokenMap[token.chainId][token.address]!==undefined)throw Error('Duplicate tokens.');return _objectSpread(_objectSpread({},tokenMap),{},_defineProperty({},token.chainId,_objectSpread(_objectSpread({},tokenMap[token.chainId]),{},_defineProperty({},token.address,token))));},_objectSpread({},EMPTY_LIST));listCache===null||listCache===void 0?void 0:listCache.set(list,map);return map;}export function useTokenList(url){var lists=useSelector(function(state){return state.lists.byUrl;});return useMemo(function(){var _lists$url;if(!url)return EMPTY_LIST;var current=(_lists$url=lists[url])===null||_lists$url===void 0?void 0:_lists$url.current;if(!current)return EMPTY_LIST;try{return listToTokenMap(current);}catch(error){console.error('Could not show token list due to error',error);return EMPTY_LIST;}},[lists,url]);}export function useSelectedListUrl(){return useSelector(function(state){return state.lists.selectedListUrl;});}export function useSelectedTokenList(){return useTokenList(useSelectedListUrl());}export function useSelectedListInfo(){var _list$current,_list$pendingUpdate;var selectedUrl=useSelectedListUrl();var listsByUrl=useSelector(function(state){return state.lists.byUrl;});var list=selectedUrl?listsByUrl[selectedUrl]:undefined;return{current:(_list$current=list===null||list===void 0?void 0:list.current)!==null&&_list$current!==void 0?_list$current:null,pending:(_list$pendingUpdate=list===null||list===void 0?void 0:list.pendingUpdate)!==null&&_list$pendingUpdate!==void 0?_list$pendingUpdate:null,loading:(list===null||list===void 0?void 0:list.loadingRequestId)!==null};}// returns all downloaded current lists\nexport function useAllLists(){var lists=useSelector(function(state){return state.lists.byUrl;});return useMemo(function(){return Object.keys(lists).map(function(url){return lists[url].current;}).filter(function(l){return Boolean(l);});},[lists]);}","map":{"version":3,"sources":["C:/Users/huachuan/Desktop/uniswap-front-interface/src/state/lists/hooks.ts"],"names":["ChainId","Token","useMemo","useSelector","WrappedTokenInfo","tokenInfo","tags","chainId","address","decimals","symbol","name","logoURI","EMPTY_LIST","KOVAN","RINKEBY","ROPSTEN","GÖRLI","MAINNET","HECO","listCache","WeakMap","listToTokenMap","list","result","get","map","tokens","reduce","tokenMap","tagId","undefined","id","filter","x","Boolean","token","Error","set","useTokenList","url","lists","state","byUrl","current","error","console","useSelectedListUrl","selectedListUrl","useSelectedTokenList","useSelectedListInfo","selectedUrl","listsByUrl","pending","pendingUpdate","loading","loadingRequestId","useAllLists","Object","keys","l"],"mappings":"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","sourcesContent":["import { ChainId, Token } from '@uniswap/sdk'\nimport { Tags, TokenInfo, TokenList } from '@uniswap/token-lists'\nimport { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { AppState } from '../index'\n\ntype TagDetails = Tags[keyof Tags]\nexport interface TagInfo extends TagDetails {\n  id: string\n}\n\n/**\n * Token instances created from token info.\n */\nexport class WrappedTokenInfo extends Token {\n  public readonly tokenInfo: TokenInfo\n  public readonly tags: TagInfo[]\n  constructor(tokenInfo: TokenInfo, tags: TagInfo[]) {\n    super(tokenInfo.chainId, tokenInfo.address, tokenInfo.decimals, tokenInfo.symbol, tokenInfo.name)\n    this.tokenInfo = tokenInfo\n    this.tags = tags\n  }\n  public get logoURI(): string | undefined {\n    return this.tokenInfo.logoURI\n  }\n}\n\nexport type TokenAddressMap = Readonly<{ [chainId in ChainId]: Readonly<{ [tokenAddress: string]: WrappedTokenInfo }> }>\n\n/**\n * An empty result, useful as a default.\n */\nconst EMPTY_LIST: TokenAddressMap = {\n  [ChainId.KOVAN]: {},\n  [ChainId.RINKEBY]: {},\n  [ChainId.ROPSTEN]: {},\n  [ChainId.GÖRLI]: {},\n  [ChainId.MAINNET]: {},\n  [ChainId.HECO]: {}\n}\n\nconst listCache: WeakMap<TokenList, TokenAddressMap> | null =\n  typeof WeakMap !== 'undefined' ? new WeakMap<TokenList, TokenAddressMap>() : null\n\nexport function listToTokenMap(list: TokenList): TokenAddressMap {\n  const result = listCache?.get(list)\n  if (result) return result\n\n  const map = list.tokens.reduce<TokenAddressMap>(\n    (tokenMap, tokenInfo) => {\n      const tags: TagInfo[] =\n        tokenInfo.tags\n          ?.map(tagId => {\n            if (!list.tags?.[tagId]) return undefined\n            return { ...list.tags[tagId], id: tagId }\n          })\n          ?.filter((x): x is TagInfo => Boolean(x)) ?? []\n      const token = new WrappedTokenInfo(tokenInfo, tags)\n      if (tokenMap[token.chainId][token.address] !== undefined) throw Error('Duplicate tokens.')\n      return {\n        ...tokenMap,\n        [token.chainId]: {\n          ...tokenMap[token.chainId],\n          [token.address]: token\n        }\n      }\n    },\n    { ...EMPTY_LIST }\n  )\n  listCache?.set(list, map)\n  return map\n}\n\nexport function useTokenList(url: string | undefined): TokenAddressMap {\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\n  return useMemo(() => {\n    if (!url) return EMPTY_LIST\n    const current = lists[url]?.current\n    if (!current) return EMPTY_LIST\n    try {\n      return listToTokenMap(current)\n    } catch (error) {\n      console.error('Could not show token list due to error', error)\n      return EMPTY_LIST\n    }\n  }, [lists, url])\n}\n\nexport function useSelectedListUrl(): string | undefined {\n  return useSelector<AppState, AppState['lists']['selectedListUrl']>(state => state.lists.selectedListUrl)\n}\n\nexport function useSelectedTokenList(): TokenAddressMap {\n  return useTokenList(useSelectedListUrl())\n}\n\nexport function useSelectedListInfo(): { current: TokenList | null; pending: TokenList | null; loading: boolean } {\n  const selectedUrl = useSelectedListUrl()\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\n  const list = selectedUrl ? listsByUrl[selectedUrl] : undefined\n  return {\n    current: list?.current ?? null,\n    pending: list?.pendingUpdate ?? null,\n    loading: list?.loadingRequestId !== null\n  }\n}\n\n// returns all downloaded current lists\nexport function useAllLists(): TokenList[] {\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\n\n  return useMemo(\n    () =>\n      Object.keys(lists)\n        .map(url => lists[url].current)\n        .filter((l): l is TokenList => Boolean(l)),\n    [lists]\n  )\n}\n"]},"metadata":{},"sourceType":"module"}