{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\huachuan\\\\Desktop\\\\uniswap-front-interface\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  overflow: auto;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  /* height: 1.8rem; */\\n  max-width: 4rem;\\n  margin-left: 1rem;\\n  border-radius: 12px;\\n  padding: 10px 18px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  max-width: 160px;\\n  opacity: 0.6;\\n  margin-right: 0.5rem;\\n  font-size: 14px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: relative;\\n  border: none;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  z-index: 100;\\n  visibility: \",\";\\n  opacity: \",\";\\n  transition: visibility 150ms linear, opacity 150ms linear;\\n  background: \",\";\\n  border: 1px solid \",\";\\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\\n    0px 24px 32px rgba(0, 0, 0, 0.01);\\n  color: \",\";\\n  border-radius: 0.5rem;\\n  padding: 1rem;\\n  display: grid;\\n  grid-template-rows: 1fr;\\n  grid-gap: 8px;\\n  font-size: 1rem;\\n  text-align: left;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  padding: 0;\\n  font-size: 1rem;\\n  opacity: \",\";\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{memo,useCallback,useMemo,useRef,useState}from'react';import{ArrowLeft}from'react-feather';import ReactGA from'react-ga';import{usePopper}from'react-popper';import{useDispatch,useSelector}from'react-redux';import{Text}from'rebass';import styled from'styled-components';import{ReactComponent as DropDown}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/images/dropdown.svg\";import{useFetchListCallback}from'../../hooks/useFetchListCallback';import{useOnClickOutside}from'../../hooks/useOnClickOutside';import useToggle from'../../hooks/useToggle';import{acceptListUpdate,removeList,selectList}from'../../state/lists/actions';import{useSelectedListUrl}from'../../state/lists/hooks';import{CloseIcon,ExternalLink,LinkStyledButton,TYPE}from'../../theme';import listVersionLabel from'../../utils/listVersionLabel';import{parseENSAddress}from'../../utils/parseENSAddress';import uriToHttp from'../../utils/uriToHttp';import{ButtonOutlined,ButtonPrimary,ButtonSecondary}from'../Button';import Column from'../Column';import ListLogo from'../ListLogo';import QuestionHelper from'../QuestionHelper';import Row,{RowBetween}from'../Row';import{PaddedColumn,SearchInput,Separator,SeparatorDark}from'./styleds';var UnpaddedLinkStyledButton=styled(LinkStyledButton)(_templateObject(),function(_ref){var disabled=_ref.disabled;return disabled?'0.4':'1';});var PopoverContainer=styled.div(_templateObject2(),function(props){return props.show?'visible':'hidden';},function(props){return props.show?1:0;},function(_ref2){var theme=_ref2.theme;return theme.bg2;},function(_ref3){var theme=_ref3.theme;return theme.bg3;},function(_ref4){var theme=_ref4.theme;return theme.text2;});var StyledMenu=styled.div(_templateObject3());var StyledListUrlText=styled.div(_templateObject4());function ListOrigin(_ref5){var listUrl=_ref5.listUrl;var ensName=useMemo(function(){var _parseENSAddress;return(_parseENSAddress=parseENSAddress(listUrl))===null||_parseENSAddress===void 0?void 0:_parseENSAddress.ensName;},[listUrl]);var host=useMemo(function(){if(ensName)return undefined;var lowerListUrl=listUrl.toLowerCase();if(lowerListUrl.startsWith('ipfs://')||lowerListUrl.startsWith('ipns://')){return listUrl;}try{var url=new URL(listUrl);return url.host;}catch(error){return undefined;}},[listUrl,ensName]);return/*#__PURE__*/React.createElement(React.Fragment,null,ensName!==null&&ensName!==void 0?ensName:host);}function listUrlRowHTMLId(listUrl){return\"list-row-\".concat(listUrl.replace(/\\./g,'-'));}var ListRow=memo(function ListRow(_ref6){var listUrl=_ref6.listUrl,onBack=_ref6.onBack;var listsByUrl=useSelector(function(state){return state.lists.byUrl;});var selectedListUrl=useSelectedListUrl();var dispatch=useDispatch();var _listsByUrl$listUrl=listsByUrl[listUrl],list=_listsByUrl$listUrl.current,pending=_listsByUrl$listUrl.pendingUpdate;var isSelected=listUrl===selectedListUrl;var _useToggle=useToggle(false),_useToggle2=_slicedToArray(_useToggle,2),open=_useToggle2[0],toggle=_useToggle2[1];var node=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),referenceElement=_useState2[0],setReferenceElement=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),popperElement=_useState4[0],setPopperElement=_useState4[1];var _usePopper=usePopper(referenceElement,popperElement,{placement:'auto',strategy:'fixed',modifiers:[{name:'offset',options:{offset:[8,8]}}]}),styles=_usePopper.styles,attributes=_usePopper.attributes;useOnClickOutside(node,open?toggle:undefined);var selectThisList=useCallback(function(){if(isSelected)return;ReactGA.event({category:'Lists',action:'Select List',label:listUrl});dispatch(selectList(listUrl));onBack();},[dispatch,isSelected,listUrl,onBack]);var handleAcceptListUpdate=useCallback(function(){if(!pending)return;ReactGA.event({category:'Lists',action:'Update List from List Select',label:listUrl});dispatch(acceptListUpdate(listUrl));},[dispatch,listUrl,pending]);var handleRemoveList=useCallback(function(){ReactGA.event({category:'Lists',action:'Start Remove List',label:listUrl});if(window.prompt(\"Please confirm you would like to remove this list by typing REMOVE\")===\"REMOVE\"){ReactGA.event({category:'Lists',action:'Confirm Remove List',label:listUrl});dispatch(removeList(listUrl));}},[dispatch,listUrl]);if(!list)return null;return/*#__PURE__*/React.createElement(Row,{key:listUrl,align:\"center\",padding:\"16px\",id:listUrlRowHTMLId(listUrl)},list.logoURI?/*#__PURE__*/React.createElement(ListLogo,{style:{marginRight:'1rem'},logoURI:list.logoURI,alt:\"\".concat(list.name,\" list logo\")}):/*#__PURE__*/React.createElement(\"div\",{style:{width:'24px',height:'24px',marginRight:'1rem'}}),/*#__PURE__*/React.createElement(Column,{style:{flex:'1'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Text,{fontWeight:isSelected?500:400,fontSize:16,style:{overflow:'hidden',textOverflow:'ellipsis'}},list.name)),/*#__PURE__*/React.createElement(Row,{style:{marginTop:'4px'}},/*#__PURE__*/React.createElement(StyledListUrlText,{title:listUrl},/*#__PURE__*/React.createElement(ListOrigin,{listUrl:listUrl})))),/*#__PURE__*/React.createElement(StyledMenu,{ref:node},/*#__PURE__*/React.createElement(ButtonOutlined,{style:{width:'2rem',padding:'.8rem .35rem',borderRadius:'12px',fontSize:'14px',marginRight:'0.5rem'},onClick:toggle,ref:setReferenceElement},/*#__PURE__*/React.createElement(DropDown,null)),open&&/*#__PURE__*/React.createElement(PopoverContainer,Object.assign({show:true,ref:setPopperElement,style:styles.popper},attributes.popper),/*#__PURE__*/React.createElement(\"div\",null,list&&listVersionLabel(list.version)),/*#__PURE__*/React.createElement(SeparatorDark,null),/*#__PURE__*/React.createElement(ExternalLink,{href:\"https://tokenlists.org/token-list?url=\".concat(listUrl)},\"View list\"),/*#__PURE__*/React.createElement(UnpaddedLinkStyledButton,{onClick:handleRemoveList,disabled:Object.keys(listsByUrl).length===1},\"Remove list\"),pending&&/*#__PURE__*/React.createElement(UnpaddedLinkStyledButton,{onClick:handleAcceptListUpdate},\"Update list\"))),isSelected?/*#__PURE__*/React.createElement(ButtonPrimary,{disabled:true,className:\"select-button\",style:{width:'5rem',minWidth:'5rem',padding:'0.5rem .35rem',borderRadius:'12px',fontSize:'14px'}},\"Selected\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ButtonPrimary,{className:\"select-button\",style:{width:'5rem',minWidth:'4.5rem',padding:'0.5rem .35rem',borderRadius:'12px',fontSize:'14px'},onClick:selectThisList},\"Select\")));});var AddListButton=styled(ButtonSecondary)(_templateObject5());var ListContainer=styled.div(_templateObject6());export function ListSelect(_ref7){var _lists$listUrlInput;var onDismiss=_ref7.onDismiss,onBack=_ref7.onBack;var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),listUrlInput=_useState6[0],setListUrlInput=_useState6[1];var dispatch=useDispatch();var lists=useSelector(function(state){return state.lists.byUrl;});var adding=Boolean((_lists$listUrlInput=lists[listUrlInput])===null||_lists$listUrlInput===void 0?void 0:_lists$listUrlInput.loadingRequestId);var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),addError=_useState8[0],setAddError=_useState8[1];var handleInput=useCallback(function(e){setListUrlInput(e.target.value);setAddError(null);},[]);var fetchList=useFetchListCallback();var handleAddList=useCallback(function(){if(adding)return;setAddError(null);fetchList(listUrlInput).then(function(){setListUrlInput('');ReactGA.event({category:'Lists',action:'Add List',label:listUrlInput});}).catch(function(error){ReactGA.event({category:'Lists',action:'Add List Failed',label:listUrlInput});setAddError(error.message);dispatch(removeList(listUrlInput));});},[adding,dispatch,fetchList,listUrlInput]);var validUrl=useMemo(function(){return uriToHttp(listUrlInput).length>0||Boolean(parseENSAddress(listUrlInput));},[listUrlInput]);var handleEnterKey=useCallback(function(e){if(validUrl&&e.key==='Enter'){handleAddList();}},[handleAddList,validUrl]);var sortedLists=useMemo(function(){var listUrls=Object.keys(lists);return listUrls.filter(function(listUrl){return Boolean(lists[listUrl].current);}).sort(function(u1,u2){var l1=lists[u1].current;var l2=lists[u2].current;if(l1&&l2){return l1.name.toLowerCase()<l2.name.toLowerCase()?-1:l1.name.toLowerCase()===l2.name.toLowerCase()?0:1;}if(l1)return-1;if(l2)return 1;return 0;});},[lists]);return/*#__PURE__*/React.createElement(Column,{style:{width:'100%',flex:'1 1'}},/*#__PURE__*/React.createElement(PaddedColumn,null,/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ArrowLeft,{style:{cursor:'pointer'},onClick:onBack})),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:20},\"Manage Lists\"),/*#__PURE__*/React.createElement(CloseIcon,{onClick:onDismiss}))),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(PaddedColumn,{gap:\"14px\"},/*#__PURE__*/React.createElement(Text,{fontWeight:600},\"Add a list\",' ',/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Token lists are an open specification for lists of ERC20 tokens. You can use any token list by entering its URL below. Beware that third party token lists can contain fake or malicious ERC20 tokens.\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(SearchInput,{type:\"text\",id:\"list-add-input\",placeholder:\"https:// or ipfs:// or ENS name\",value:listUrlInput,onChange:handleInput,onKeyDown:handleEnterKey,style:{height:'2.75rem',borderRadius:12,padding:'12px'}}),/*#__PURE__*/React.createElement(AddListButton,{onClick:handleAddList,disabled:!validUrl},\"Add\")),addError?/*#__PURE__*/React.createElement(TYPE.error,{title:addError,style:{textOverflow:'ellipsis',overflow:'hidden'},error:true},addError):null),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(ListContainer,null,sortedLists.map(function(listUrl){return/*#__PURE__*/React.createElement(ListRow,{key:listUrl,listUrl:listUrl,onBack:onBack});})),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(\"div\",{style:{padding:'16px',textAlign:'center'}},/*#__PURE__*/React.createElement(ExternalLink,{href:\"https://tokenlists.org\"},\"Browse lists\")));}","map":{"version":3,"sources":["C:/Users/huachuan/Desktop/uniswap-front-interface/src/components/SearchModal/ListSelect.tsx"],"names":["React","memo","useCallback","useMemo","useRef","useState","ArrowLeft","ReactGA","usePopper","useDispatch","useSelector","Text","styled","useFetchListCallback","useOnClickOutside","useToggle","acceptListUpdate","removeList","selectList","useSelectedListUrl","CloseIcon","ExternalLink","LinkStyledButton","TYPE","listVersionLabel","parseENSAddress","uriToHttp","ButtonOutlined","ButtonPrimary","ButtonSecondary","Column","ListLogo","QuestionHelper","Row","RowBetween","PaddedColumn","SearchInput","Separator","SeparatorDark","UnpaddedLinkStyledButton","disabled","PopoverContainer","div","props","show","theme","bg2","bg3","text2","StyledMenu","StyledListUrlText","ListOrigin","listUrl","ensName","host","undefined","lowerListUrl","toLowerCase","startsWith","url","URL","error","listUrlRowHTMLId","replace","ListRow","onBack","listsByUrl","state","lists","byUrl","selectedListUrl","dispatch","list","current","pending","pendingUpdate","isSelected","open","toggle","node","referenceElement","setReferenceElement","popperElement","setPopperElement","placement","strategy","modifiers","name","options","offset","styles","attributes","selectThisList","event","category","action","label","handleAcceptListUpdate","handleRemoveList","window","prompt","logoURI","marginRight","width","height","flex","overflow","textOverflow","marginTop","padding","borderRadius","fontSize","popper","version","Object","keys","length","minWidth","AddListButton","ListContainer","ListSelect","onDismiss","listUrlInput","setListUrlInput","adding","Boolean","loadingRequestId","addError","setAddError","handleInput","e","target","value","fetchList","handleAddList","then","catch","message","validUrl","handleEnterKey","key","sortedLists","listUrls","filter","sort","u1","u2","l1","l2","cursor","map","textAlign"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useMemo, useRef, useState } from 'react'\nimport { ArrowLeft } from 'react-feather'\nimport ReactGA from 'react-ga'\nimport { usePopper } from 'react-popper'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Text } from 'rebass'\nimport styled from 'styled-components'\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback'\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\n\nimport useToggle from '../../hooks/useToggle'\nimport { AppDispatch, AppState } from '../../state'\nimport { acceptListUpdate, removeList, selectList } from '../../state/lists/actions'\nimport { useSelectedListUrl } from '../../state/lists/hooks'\nimport { CloseIcon, ExternalLink, LinkStyledButton, TYPE } from '../../theme'\nimport listVersionLabel from '../../utils/listVersionLabel'\nimport { parseENSAddress } from '../../utils/parseENSAddress'\nimport uriToHttp from '../../utils/uriToHttp'\nimport { ButtonOutlined, ButtonPrimary, ButtonSecondary } from '../Button'\n\nimport Column from '../Column'\nimport ListLogo from '../ListLogo'\nimport QuestionHelper from '../QuestionHelper'\nimport Row, { RowBetween } from '../Row'\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from './styleds'\n\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\n  padding: 0;\n  font-size: 1rem;\n  opacity: ${({ disabled }) => (disabled ? '0.4' : '1')};\n`\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  z-index: 100;\n  visibility: ${props => (props.show ? 'visible' : 'hidden')};\n  opacity: ${props => (props.show ? 1 : 0)};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  background: ${({ theme }) => theme.bg2};\n  border: 1px solid ${({ theme }) => theme.bg3};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.01);\n  color: ${({ theme }) => theme.text2};\n  border-radius: 0.5rem;\n  padding: 1rem;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-gap: 8px;\n  font-size: 1rem;\n  text-align: left;\n`\n\nconst StyledMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n`\n\nconst StyledListUrlText = styled.div`\n  max-width: 160px;\n  opacity: 0.6;\n  margin-right: 0.5rem;\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`\n\nfunction ListOrigin({ listUrl }: { listUrl: string }) {\n  const ensName = useMemo(() => parseENSAddress(listUrl)?.ensName, [listUrl])\n  const host = useMemo(() => {\n    if (ensName) return undefined\n    const lowerListUrl = listUrl.toLowerCase()\n    if (lowerListUrl.startsWith('ipfs://') || lowerListUrl.startsWith('ipns://')) {\n      return listUrl\n    }\n    try {\n      const url = new URL(listUrl)\n      return url.host\n    } catch (error) {\n      return undefined\n    }\n  }, [listUrl, ensName])\n  return <>{ensName ?? host}</>\n}\n\nfunction listUrlRowHTMLId(listUrl: string) {\n  return `list-row-${listUrl.replace(/\\./g, '-')}`\n}\n\nconst ListRow = memo(function ListRow({ listUrl, onBack }: { listUrl: string; onBack: () => void }) {\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\n  const selectedListUrl = useSelectedListUrl()\n  const dispatch = useDispatch<AppDispatch>()\n  const { current: list, pendingUpdate: pending } = listsByUrl[listUrl]\n\n  const isSelected = listUrl === selectedListUrl\n\n  const [open, toggle] = useToggle(false)\n  const node = useRef<HTMLDivElement>()\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement>()\n  const [popperElement, setPopperElement] = useState<HTMLDivElement>()\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: 'auto',\n    strategy: 'fixed',\n    modifiers: [{ name: 'offset', options: { offset: [8, 8] } }]\n  })\n\n  useOnClickOutside(node, open ? toggle : undefined)\n\n  const selectThisList = useCallback(() => {\n    if (isSelected) return\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Select List',\n      label: listUrl\n    })\n\n    dispatch(selectList(listUrl))\n    onBack()\n  }, [dispatch, isSelected, listUrl, onBack])\n\n  const handleAcceptListUpdate = useCallback(() => {\n    if (!pending) return\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Update List from List Select',\n      label: listUrl\n    })\n    dispatch(acceptListUpdate(listUrl))\n  }, [dispatch, listUrl, pending])\n\n  const handleRemoveList = useCallback(() => {\n    ReactGA.event({\n      category: 'Lists',\n      action: 'Start Remove List',\n      label: listUrl\n    })\n    if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\n      ReactGA.event({\n        category: 'Lists',\n        action: 'Confirm Remove List',\n        label: listUrl\n      })\n      dispatch(removeList(listUrl))\n    }\n  }, [dispatch, listUrl])\n\n  if (!list) return null\n\n  return (\n    <Row key={listUrl} align=\"center\" padding=\"16px\" id={listUrlRowHTMLId(listUrl)}>\n      {list.logoURI ? (\n        <ListLogo style={{ marginRight: '1rem' }} logoURI={list.logoURI} alt={`${list.name} list logo`} />\n      ) : (\n        <div style={{ width: '24px', height: '24px', marginRight: '1rem' }} />\n      )}\n      <Column style={{ flex: '1' }}>\n        <Row>\n          <Text\n            fontWeight={isSelected ? 500 : 400}\n            fontSize={16}\n            style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}\n          >\n            {list.name}\n          </Text>\n        </Row>\n        <Row\n          style={{\n            marginTop: '4px'\n          }}\n        >\n          <StyledListUrlText title={listUrl}>\n            <ListOrigin listUrl={listUrl} />\n          </StyledListUrlText>\n        </Row>\n      </Column>\n      <StyledMenu ref={node as any}>\n        <ButtonOutlined\n          style={{\n            width: '2rem',\n            padding: '.8rem .35rem',\n            borderRadius: '12px',\n            fontSize: '14px',\n            marginRight: '0.5rem'\n          }}\n          onClick={toggle}\n          ref={setReferenceElement}\n        >\n          <DropDown />\n        </ButtonOutlined>\n\n        {open && (\n          <PopoverContainer show={true} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\n            <div>{list && listVersionLabel(list.version)}</div>\n            <SeparatorDark />\n            <ExternalLink href={`https://tokenlists.org/token-list?url=${listUrl}`}>View list</ExternalLink>\n            <UnpaddedLinkStyledButton onClick={handleRemoveList} disabled={Object.keys(listsByUrl).length === 1}>\n              Remove list\n            </UnpaddedLinkStyledButton>\n            {pending && (\n              <UnpaddedLinkStyledButton onClick={handleAcceptListUpdate}>Update list</UnpaddedLinkStyledButton>\n            )}\n          </PopoverContainer>\n        )}\n      </StyledMenu>\n      {isSelected ? (\n        <ButtonPrimary\n          disabled={true}\n          className=\"select-button\"\n          style={{ width: '5rem', minWidth: '5rem', padding: '0.5rem .35rem', borderRadius: '12px', fontSize: '14px' }}\n        >\n          Selected\n        </ButtonPrimary>\n      ) : (\n        <>\n          <ButtonPrimary\n            className=\"select-button\"\n            style={{\n              width: '5rem',\n              minWidth: '4.5rem',\n              padding: '0.5rem .35rem',\n              borderRadius: '12px',\n              fontSize: '14px'\n            }}\n            onClick={selectThisList}\n          >\n            Select\n          </ButtonPrimary>\n        </>\n      )}\n    </Row>\n  )\n})\n\nconst AddListButton = styled(ButtonSecondary)`\n  /* height: 1.8rem; */\n  max-width: 4rem;\n  margin-left: 1rem;\n  border-radius: 12px;\n  padding: 10px 18px;\n`\n\nconst ListContainer = styled.div`\n  flex: 1;\n  overflow: auto;\n`\n\nexport function ListSelect({ onDismiss, onBack }: { onDismiss: () => void; onBack: () => void }) {\n  const [listUrlInput, setListUrlInput] = useState<string>('')\n\n  const dispatch = useDispatch<AppDispatch>()\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\n  const adding = Boolean(lists[listUrlInput]?.loadingRequestId)\n  const [addError, setAddError] = useState<string | null>(null)\n\n  const handleInput = useCallback(e => {\n    setListUrlInput(e.target.value)\n    setAddError(null)\n  }, [])\n  const fetchList = useFetchListCallback()\n\n  const handleAddList = useCallback(() => {\n    if (adding) return\n    setAddError(null)\n    fetchList(listUrlInput)\n      .then(() => {\n        setListUrlInput('')\n        ReactGA.event({\n          category: 'Lists',\n          action: 'Add List',\n          label: listUrlInput\n        })\n      })\n      .catch(error => {\n        ReactGA.event({\n          category: 'Lists',\n          action: 'Add List Failed',\n          label: listUrlInput\n        })\n        setAddError(error.message)\n        dispatch(removeList(listUrlInput))\n      })\n  }, [adding, dispatch, fetchList, listUrlInput])\n\n  const validUrl: boolean = useMemo(() => {\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput))\n  }, [listUrlInput])\n\n  const handleEnterKey = useCallback(\n    e => {\n      if (validUrl && e.key === 'Enter') {\n        handleAddList()\n      }\n    },\n    [handleAddList, validUrl]\n  )\n\n  const sortedLists = useMemo(() => {\n    const listUrls = Object.keys(lists)\n    return listUrls\n      .filter(listUrl => {\n        return Boolean(lists[listUrl].current)\n      })\n      .sort((u1, u2) => {\n        const { current: l1 } = lists[u1]\n        const { current: l2 } = lists[u2]\n        if (l1 && l2) {\n          return l1.name.toLowerCase() < l2.name.toLowerCase()\n            ? -1\n            : l1.name.toLowerCase() === l2.name.toLowerCase()\n            ? 0\n            : 1\n        }\n        if (l1) return -1\n        if (l2) return 1\n        return 0\n      })\n  }, [lists])\n\n  return (\n    <Column style={{ width: '100%', flex: '1 1' }}>\n      <PaddedColumn>\n        <RowBetween>\n          <div>\n            <ArrowLeft style={{ cursor: 'pointer' }} onClick={onBack} />\n          </div>\n          <Text fontWeight={500} fontSize={20}>\n            Manage Lists\n          </Text>\n          <CloseIcon onClick={onDismiss} />\n        </RowBetween>\n      </PaddedColumn>\n\n      <Separator />\n\n      <PaddedColumn gap=\"14px\">\n        <Text fontWeight={600}>\n          Add a list{' '}\n          <QuestionHelper text=\"Token lists are an open specification for lists of ERC20 tokens. You can use any token list by entering its URL below. Beware that third party token lists can contain fake or malicious ERC20 tokens.\" />\n        </Text>\n        <Row>\n          <SearchInput\n            type=\"text\"\n            id=\"list-add-input\"\n            placeholder=\"https:// or ipfs:// or ENS name\"\n            value={listUrlInput}\n            onChange={handleInput}\n            onKeyDown={handleEnterKey}\n            style={{ height: '2.75rem', borderRadius: 12, padding: '12px' }}\n          />\n          <AddListButton onClick={handleAddList} disabled={!validUrl}>\n            Add\n          </AddListButton>\n        </Row>\n        {addError ? (\n          <TYPE.error title={addError} style={{ textOverflow: 'ellipsis', overflow: 'hidden' }} error>\n            {addError}\n          </TYPE.error>\n        ) : null}\n      </PaddedColumn>\n\n      <Separator />\n\n      <ListContainer>\n        {sortedLists.map(listUrl => (\n          <ListRow key={listUrl} listUrl={listUrl} onBack={onBack} />\n        ))}\n      </ListContainer>\n      <Separator />\n\n      <div style={{ padding: '16px', textAlign: 'center' }}>\n        <ExternalLink href=\"https://tokenlists.org\">Browse lists</ExternalLink>\n      </div>\n    </Column>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}