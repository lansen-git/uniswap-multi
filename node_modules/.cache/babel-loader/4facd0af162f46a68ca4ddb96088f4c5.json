{"ast":null,"code":"import{createReducer,nanoid}from'@reduxjs/toolkit';import{addPopup,removePopup,toggleWalletModal,toggleSettingsMenu,updateBlockNumber}from'./actions';var initialState={blockNumber:{},popupList:[],walletModalOpen:false,settingsMenuOpen:false};export default createReducer(initialState,function(builder){return builder.addCase(updateBlockNumber,function(state,action){var _action$payload=action.payload,chainId=_action$payload.chainId,blockNumber=_action$payload.blockNumber;if(typeof state.blockNumber[chainId]!=='number'){state.blockNumber[chainId]=blockNumber;}else{state.blockNumber[chainId]=Math.max(blockNumber,state.blockNumber[chainId]);}}).addCase(toggleWalletModal,function(state){state.walletModalOpen=!state.walletModalOpen;}).addCase(toggleSettingsMenu,function(state){state.settingsMenuOpen=!state.settingsMenuOpen;}).addCase(addPopup,function(state,_ref){var _ref$payload=_ref.payload,content=_ref$payload.content,key=_ref$payload.key,_ref$payload$removeAf=_ref$payload.removeAfterMs,removeAfterMs=_ref$payload$removeAf===void 0?15000:_ref$payload$removeAf;state.popupList=(key?state.popupList.filter(function(popup){return popup.key!==key;}):state.popupList).concat([{key:key||nanoid(),show:true,content:content,removeAfterMs:removeAfterMs}]);}).addCase(removePopup,function(state,_ref2){var key=_ref2.payload.key;state.popupList.forEach(function(p){if(p.key===key){p.show=false;}});});});","map":{"version":3,"sources":["C:/Users/huachuan/Desktop/uniswap-front-interface/src/state/application/reducer.ts"],"names":["createReducer","nanoid","addPopup","removePopup","toggleWalletModal","toggleSettingsMenu","updateBlockNumber","initialState","blockNumber","popupList","walletModalOpen","settingsMenuOpen","builder","addCase","state","action","payload","chainId","Math","max","content","key","removeAfterMs","filter","popup","concat","show","forEach","p"],"mappings":"AAAA,OAASA,aAAT,CAAwBC,MAAxB,KAAsC,kBAAtC,CACA,OACEC,QADF,CAGEC,WAHF,CAIEC,iBAJF,CAKEC,kBALF,CAMEC,iBANF,KAOO,WAPP,CAkBA,GAAMC,CAAAA,YAA8B,CAAG,CACrCC,WAAW,CAAE,EADwB,CAErCC,SAAS,CAAE,EAF0B,CAGrCC,eAAe,CAAE,KAHoB,CAIrCC,gBAAgB,CAAE,KAJmB,CAAvC,CAOA,cAAeX,CAAAA,aAAa,CAACO,YAAD,CAAe,SAAAK,OAAO,QAChDA,CAAAA,OAAO,CACJC,OADH,CACWP,iBADX,CAC8B,SAACQ,KAAD,CAAQC,MAAR,CAAmB,qBACZA,MAAM,CAACC,OADK,CACrCC,OADqC,iBACrCA,OADqC,CAC5BT,WAD4B,iBAC5BA,WAD4B,CAE7C,GAAI,MAAOM,CAAAA,KAAK,CAACN,WAAN,CAAkBS,OAAlB,CAAP,GAAsC,QAA1C,CAAoD,CAClDH,KAAK,CAACN,WAAN,CAAkBS,OAAlB,EAA6BT,WAA7B,CACD,CAFD,IAEO,CACLM,KAAK,CAACN,WAAN,CAAkBS,OAAlB,EAA6BC,IAAI,CAACC,GAAL,CAASX,WAAT,CAAsBM,KAAK,CAACN,WAAN,CAAkBS,OAAlB,CAAtB,CAA7B,CACD,CACF,CARH,EASGJ,OATH,CASWT,iBATX,CAS8B,SAAAU,KAAK,CAAI,CACnCA,KAAK,CAACJ,eAAN,CAAwB,CAACI,KAAK,CAACJ,eAA/B,CACD,CAXH,EAYGG,OAZH,CAYWR,kBAZX,CAY+B,SAAAS,KAAK,CAAI,CACpCA,KAAK,CAACH,gBAAN,CAAyB,CAACG,KAAK,CAACH,gBAAhC,CACD,CAdH,EAeGE,OAfH,CAeWX,QAfX,CAeqB,SAACY,KAAD,MAAiE,uBAAvDE,OAAuD,CAA5CI,OAA4C,cAA5CA,OAA4C,CAAnCC,GAAmC,cAAnCA,GAAmC,oCAA9BC,aAA8B,CAA9BA,aAA8B,gCAAd,KAAc,uBAClFR,KAAK,CAACL,SAAN,CAAkB,CAACY,GAAG,CAAGP,KAAK,CAACL,SAAN,CAAgBc,MAAhB,CAAuB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACH,GAAN,GAAcA,GAAlB,EAA5B,CAAH,CAAwDP,KAAK,CAACL,SAAlE,EAA6EgB,MAA7E,CAAoF,CACpG,CACEJ,GAAG,CAAEA,GAAG,EAAIpB,MAAM,EADpB,CAEEyB,IAAI,CAAE,IAFR,CAGEN,OAAO,CAAPA,OAHF,CAIEE,aAAa,CAAbA,aAJF,CADoG,CAApF,CAAlB,CAQD,CAxBH,EAyBGT,OAzBH,CAyBWV,WAzBX,CAyBwB,SAACW,KAAD,OAAiC,IAAZO,CAAAA,GAAY,OAAvBL,OAAuB,CAAZK,GAAY,CACrDP,KAAK,CAACL,SAAN,CAAgBkB,OAAhB,CAAwB,SAAAC,CAAC,CAAI,CAC3B,GAAIA,CAAC,CAACP,GAAF,GAAUA,GAAd,CAAmB,CACjBO,CAAC,CAACF,IAAF,CAAS,KAAT,CACD,CACF,CAJD,EAKD,CA/BH,CADgD,EAAtB,CAA5B","sourcesContent":["import { createReducer, nanoid } from '@reduxjs/toolkit'\nimport {\n  addPopup,\n  PopupContent,\n  removePopup,\n  toggleWalletModal,\n  toggleSettingsMenu,\n  updateBlockNumber\n} from './actions'\n\ntype PopupList = Array<{ key: string; show: boolean; content: PopupContent; removeAfterMs: number | null }>\n\nexport interface ApplicationState {\n  blockNumber: { [chainId: number]: number }\n  popupList: PopupList\n  walletModalOpen: boolean\n  settingsMenuOpen: boolean\n}\n\nconst initialState: ApplicationState = {\n  blockNumber: {},\n  popupList: [],\n  walletModalOpen: false,\n  settingsMenuOpen: false\n}\n\nexport default createReducer(initialState, builder =>\n  builder\n    .addCase(updateBlockNumber, (state, action) => {\n      const { chainId, blockNumber } = action.payload\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId])\n      }\n    })\n    .addCase(toggleWalletModal, state => {\n      state.walletModalOpen = !state.walletModalOpen\n    })\n    .addCase(toggleSettingsMenu, state => {\n      state.settingsMenuOpen = !state.settingsMenuOpen\n    })\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\n      state.popupList = (key ? state.popupList.filter(popup => popup.key !== key) : state.popupList).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs\n        }\n      ])\n    })\n    .addCase(removePopup, (state, { payload: { key } }) => {\n      state.popupList.forEach(p => {\n        if (p.key === key) {\n          p.show = false\n        }\n      })\n    })\n)\n"]},"metadata":{},"sourceType":"module"}